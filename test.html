<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>分页功能</title>
    <style>

        #page {
            overflow: hidden;
            margin: 0 auto;
        }

        #page li {
            padding: 5px 10px;
            color: #fff;
            background: blue;
            float: left;
            margin: 0 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        #page li.active {
            background-color: red;;
        }
    </style>
</head>
<body>
<ul id="content">

</ul>
<ul id="page">

</ul>
</body>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
<script>

    var arr = [];
    for (var i = 0; i < 103; i++) {
        arr.push(i);
    }
    function page() {
        var defaults = {
            el: "page",
            data: arr,
            defaultSize: 8,//要显示多少个按钮
            pageSize: 5,//每页显示的个数
            that: this,
            showFirstBtn: true,
            showLastBtn: true,
            showPrevBtn: true,
            showNextBtn: true,
            prevText: '上一页',
            nextText: '下一页',
            firstText: '首页',
            lastText: '尾页',
            tagName: 'li',
            middlePageItems: 4,//中间连续部分显示的分页项
            frontPageItems: 3,//分页起始部分最多显示3个分页项，否则就会出现省略分页项
            backPageItems: 2,//分页结束部分最多显示2个分页项，否则就会出现省略分页项
            ellipseText: '...'//中间省略部分的文本
        };
        return {
            wrapper: function () {
                return document.getElementById(defaults.el)
            }(),
            totalNumber: function () {//数据总共有多少
                return defaults.data.length
            }(),
            pageLength: function () {//分成多少页
                return Math.ceil(this.totalNumber / defaults.pageSize);
            },
            createElement: function (text) {
                var tag = document.createElement(defaults.tagName);
                tag.innerText = text;
                return tag;
            },
            getInterval: function () {
                var ne_half = Math.ceil(this.pageLength() / 2);
                var start = ne_half - defaults.middlePageItems;
                var end = ne_half + defaults.middlePageItems;

                console.log(start,ne_half,end)
            },
            render: function () {
                var html = [], that = this;
                defaults.showFirstBtn && html.push(this.createElement(defaults.firstText));
                defaults.showPrevBtn && html.push(this.createElement(defaults.prevText));
                for (var i = 0; i < this.pageLength(); i++) {
                    html.push(this.createElement(i + 1));
                }
                defaults.showNextBtn && html.push(this.createElement(defaults.nextText));
                defaults.showLastBtn && html.push(this.createElement(defaults.lastText));
                html.forEach(function (val, index, arr) {
                    that.wrapper.append(val);
                })
            }

        }
    }
    page().getInterval()
    /*function page() {
     var defaults = {
     el: "page",
     data: arr,
     totalNumber: function () {
     return this.data.length
     },//数据总数
     defaultSize: 5,//每页显示的个数
     that: this,
     pageLength: function () {
     return this.totalNumber() / this.defaultSize;
     },//分页长度
     prevText: '上一页',
     nextText: '下一页',
     firstText: '首页',
     lastText: '尾页',
     tagName: 'li',
     };
     return {
     init: function () {
     this.createPage(defaults.pageLength());
     this.getData(1);
     this.numberClick();
     },
     ctrlNum: null,
     getElement: function (id) {
     return document.getElementById(id);
     },
     createElement: function (text, tagName) {
     tagName = tagName || defaults.tagName;
     var tag = document.createElement(tagName);
     tag.innerText = text;
     this.getElement(defaults.el).append(tag);
     },
     createPage: function (pageNumber) {
     this.createElement(defaults.firstText);
     this.createElement(defaults.prevText);
     for (var i = 1; i <= pageNumber; i++) {
     this.createElement(i);
     }
     this.createElement(defaults.nextText);
     this.createElement(defaults.lastText);
     },
     getData: function (currentNumber) {
     this.ctrlNum = currentNumber;
     console.log(currentNumber);
     var _num = (currentNumber - 1) * defaults.defaultSize;
     console.log(defaults.data.slice(_num, _num + defaults.defaultSize));
     return defaults.data.slice(_num, _num + defaults.defaultSize)
     },
     numberClick: function () {
     var parent = this.getElement(defaults.el);
     var that = this;
     parent.onclick = function (event) {
     var target = event.target;
     var current = Number.parseFloat(target.innerText);

     if (Number.isNaN(current)) {
     if (target.innerText === defaults.prevText) {
     that.prev()
     }
     if (target.innerText === defaults.nextText) {
     that.next()
     }
     if (target.innerText === defaults.firstText) {
     that.first()
     }
     if (target.innerText === defaults.lastText) {
     that.last()
     }
     return;
     }
     that.ctrlNum = current;
     that.addClass(that.ctrlNum);
     that.getData(that.ctrlNum);
     }
     },
     next: function () {

     if (this.ctrlNum >= defaults.pageLength()) {
     return;
     }
     this.ctrlNum += 1;
     this.addClass(this.ctrlNum);
     this.getData(this.ctrlNum);
     },
     prev: function () {

     if (this.ctrlNum <= 1) {
     return;
     }
     this.ctrlNum -= 1;
     this.addClass(this.ctrlNum);
     this.getData(this.ctrlNum);
     },
     first: function () {
     this.getData(1);
     this.addClass(1);
     },
     last: function () {
     this.addClass(defaults.pageLength());
     this.getData(defaults.pageLength());
     },
     addClass: function (current) {
     var arr = this.getElement(defaults.el).getElementsByTagName(defaults.tagName);
     var arr2 = [];
     for (var i = 0; i < arr.length; i++) {
     var numb = Number.parseFloat(arr[i].innerText);
     if (!Number.isNaN(numb)) {
     arr[i].className = '';
     arr2.push(arr[i])
     }
     }
     arr2[current - 1].className = 'active';
     }
     }
     }
     page().init();*/
</script>
</html>